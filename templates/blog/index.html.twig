{% extends 'base.html.twig' %}

{% block title %}Hello BlogController!{% endblock %}

{% block body %}
{% if posts is defined %}
    <div class="card__container">
    {% for post in posts %}
        <div class="card blog__summary">
            <h2>{{ post.title }}</h2>
            <time>{{ post.publishAt | date }}</time>
            <p>
            {% if post.summary is defined %}
                {{ post.summary }}
            {% else %}
                {{ post.content|slice(0, 100) }}
            {% endif %}
            </p>
            <p>
                <a class="blog__link" href="{{ path('post_view', {'slug' : post.slug}) }}">Read more!</a>
            </p>
            <div class="flex-row mt-auto">
                {% for category in post.categories %}
                    <a href="#" class="button">{{ category.name }}</a>
                {% endfor %}
            </div>
        </div>
    {% endfor %}
    </div>
{% endif %}
{% endblock %}
